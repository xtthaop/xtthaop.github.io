var modal = (function() {    var $window = $(window);    var $modal = $('<div class="modal"/>');    var $content = $('<div class="modal-content"/>');    var $close = $('<div class="modal-close"></div>');    $modal.append($content,$close);    $close.on('click', function(e){        e.preventDefault();        modal.close();    });    return {        center: function() {            var top = Math.max($modal.outerHeight() - $content.outerHeight() , 0) / 2;            var left = Math.max($modal.outerWidth() - $content.outerWidth(), 0) / 2;            $content.css({                top:top,                left:left             });            $close.css({                top:top + 10,                left:left + $content.outerWidth() - 40            })            $modal.fadeIn();            $content.fadeIn();        },        open: function(settings) {             $content.empty().append(settings.content);            $content.hide();            $modal.css({                width: $window.width(),                height: $window.height()            }).appendTo('body');            $content.css({                width:settings.width,                height:settings.height            });            modal.center();        },        close: function() {            $content.fadeOut();            $modal.fadeOut();            setTimeout(function(){                $content.empty();                $modal.detach();            },300);            }    };}());